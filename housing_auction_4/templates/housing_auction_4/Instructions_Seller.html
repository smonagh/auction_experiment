{% extends "global/Page.html" %}
{% load staticfiles otree%}

{% block content %}


<h1> Experiment Instructions </h1>

<div class="jumbotron">
<p>Thank you for participating! You have earned 5 US$ for showing up on time.
 The instructions explain how you can make decisions and earn more money,
  so please read carefully. Talking with other participants or use of cell
   phones is <b>not</b> permitted during the course of this experiment.
    If you have questions at any point, raise your hand and an experimenter
     will come to assist you.</p>

<h2> Experimental Points </h2>

<p> During the experiment you have the opportunity to earn experimental dollars (E$).
 At the end of the experiment, your earnings will be converted at ratio
  {{Constants.conversion_rate}} E$ to 1 US$ and paid out to you in US$ in addition
   to the show up fee. </p>

<h2> Overview </h2>

<p>You will be paired randomly with a group of other participants.
  Your identity in this group will remain anonymous, and likewise,
   the identities of all other group members will remain
    anonymous as well. </p>

<p>In this experiment you are a <b>seller</b>.

<p>There will be 3 buyers and 2 other sellers in your group. The group will
 remain together and the roles will remain the same during the entire experiment.</p>

<h2> Your widget </h2>

<p>You will be assigned one widget in each round of the experiment and given the opportunity to
 sell it to a buyer for E$. Today’s experiment will include {{Constants.num_rounds}} identical rounds.
  The widget assigned to you has a value to you and to other participants. Each seller has only one widget. </p>
<p>
 The value for the widget may not be the same for different buyers. Likewise, each seller has a different
    value for their own widget. The values will remain constant across rounds throughout the experiment.</p>

<h2> Earnings </h2>

The earnings in each round equal to the money you received in exchange for
 the widget minus your value for the widget:</p>

<p style="text-align:center;"> <b>Earnings = Bid - Widget's Value</b> </p>

<p> For instance, if your value for your widget is 3 E$ and the bid for your widget is 7 E$, then
 your earn 4 E$ for that round. If you do not sell the widget,
  your earnings for the round will be 0 E$.</p>

<p>Note, however, that only one round will be randomly chosen at the end of the experiment to be paid in US$.</p>

{% if subsession.treatment == 'minimum_price' %}
<h2> Trading </h2>

<p>Each round consists of two stages.</p>

<p> In the first stage of the experiment you and each of the other sellers
 will post their desired minimum price for their widget. This value can be set between
  1 and 800 on a slider.  When setting your desired price, you will
   see the following slider,</p>

{% formfield player.ask_price with label="Please submit the minimum price (click on the slider and use the keyboard arrow keys to adjust precisely) " %}

<p>Once you have set the minimum price that you like, click on the
 <b>Next</b> button to submit. Note that the minimum price that you set
  must be greater or equal to your value for your widget. If it is not,
   then the minimum price for your widget will be automatically increased to match the
   value of the widget. After each of the sellers has submitted their minimum price, all
     players will then proceed to the second, trading stage.</p>

<p>Then, in the trading stage, the buyers will bid for the widgets. As a seller, you will not
  actively participate in this stage.
   The buyers with the highest bid will purchase your widget. Buyers are only allowed to make bids that
    exceed the minimum price that you posted in the first stage. When buyers are
     bidding, you will see a table with information about
      the widgets:</p>

<div>
  <table>
    <tr>
      <th><center>Widget</center> </th>
      <th><center>Your Value</center></th>
      <th><center>Minimum Price</center></th>
      <th><center>Outstanding Bid</center></th>
    </tr>
    <tr>
      <td>Widget 1</td>
      <td>7</td>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <td>Widget 2</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <td>Widget 3</td>
      <td>9</td>
      <td>4</td>
      <td>4</td>
    </tr>
  </table>

</div>

<p> Trading stage ends when there is no active bidding for 50 seconds.
  At the end of each round you will be told your earnings for that round. However, remember
   that only one round will be randomly chosen to be
    paid at the end of the experiment.</p>

{% else %}
<h2> Trading </h2>

<p>In each round, the buyers and sellers will try to trade widgets. Buyers will post bids, while each seller will post and revise the minimum price at which they agree to sell.
    As a seller you can post (and revise) the minimum price for your own (and only your own) widget.
   The buyers with the highest bid will purchase your widget as long as that bid exceeds your ask. If there is no bid that exceeds your ask, you will not make
    a transaction and your earnings for the round will be zero.
    While the trading continues, you will see a table with information about
      the widgets:</p>

<div>
  <table>
    <tr>
      <th><center>Widget</center> </th>
      <th><center>Your Value</center></th>
      <th><center>Current Minimum Price</center></th>
      <th><center>Outstanding Bid</center></th>
      <th><center>Enter Minimum Price</center></th>
    </tr>
    <tr>
      <td>Widget 1</td>
      <td>7</td>
      <td>5</td>
      <td>2</td>
      <td>
    </tr>
    <tr>
      <td>Widget 2</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td><input type="number" placeholder="Enter Minimum Price">
        <br>
        <input class="btn btn-large btn-primary next-button" type="reset"
        value=" Submit " disabled>
    </tr>
    <tr>
      <td>Widget 3</td>
      <td>9</td>
      <td>4</td>
      <td>4</td>
      <td>
    </tr>
  </table>
    <input type="hidden" name="ask_price" value="{{ player.ask_price }}" />

</div>

    <p>At any point you can submit an <b>integer</b> ask for your widget or wait for trading to end.
   <p>There are two important rules for setting an ask:</p>
  <ol>
    <li> If you submit a new ask, it has to be lower than before; </li>
    <li> You may not submit an ask that is lower than your value for the widget. </li>
  </ol>

    <p> Trading ends when there is no active bidding for 50 seconds.
  At the end of each round you will be told your earnings for that round. However, remember
   that only one round will be randomly chosen to be
    paid at the end of the experiment.</p>
{% endif %}

<h2> End of Experiment </h2>
<p> At the end of the experiment you will be taken to a screen that displays
 your E$ earnings in each round, the round that was randomly chosen as the
  payoff round, and the earnings from that round converted into US$. Please
   wait in your seat once you reach this screen. An experimenter will call
    you in one at a time to be paid privately. When called, please take all
     your belongings up since the experiment ends once you have received your
      payment.</p>

   <h2> Important points to remember </h2>
   <ul>
     <li> You can not lose money by trading (you are prevented from setting the minimum price too low); </li>
     <li> If you do not sell, you earn 0 E$; </li>
     <li> You will only have one widget to trade per round;</li>
     <li> Each buyer may only buy one widget per round;</li>
     <li> Both buyers and sellers may have different values of the same widget;</li>
     <li> Only one round will be chosen to be paid in US$; </li>
     <li> Bidding for the round stops after 50 seconds of inactivity; </li>
     <li> Today’s experiment will include {{Constants.num_rounds}} rounds; </li>
       {% if subsession.treatment == 'minimum_price' %}
     <li> Your value for your widget will always be the same, but minimum prices and bids may change between rounds.</li>
       {% else %}
     <li> Your value for your widget will always be the same, but bids and asks may change between rounds.</li>
       {% endif %}
   </ul>

<button class="btn btn-primary" type="submit">Finished Reading Instructions</button>
</div>

{% endblock %}
{% block styles %}
<style>
.jumbotron p{
  padding-bottom:1em;
}
    table a:link {
	color: #666;
	font-weight: bold;
	text-decoration:none;
}
table a:visited {
	color: #999999;
	font-weight:bold;
	text-decoration:none;
}
table a:active,
table a:hover {
	color: #bd5a35;
	text-decoration:underline;
}
table {
	font-family:Arial, Helvetica, sans-serif;
	color:#666;
	font-size:16px;
	text-shadow: 1px 1px 0px #fff;
	background:#eaebec;
	margin:10px;
	border:#ccc 1px solid;

	-moz-border-radius:3px;
	-webkit-border-radius:3px;
	border-radius:3px;

	-moz-box-shadow: 0 1px 2px #d1d1d1;
	-webkit-box-shadow: 0 1px 2px #d1d1d1;
	box-shadow: 0 1px 2px #d1d1d1;
}
table th {
	padding:15px 19px 15px 19px;
	border-top:1px solid #fafafa;
	border-bottom:1px solid #e0e0e0;

	background: #ededed;
	background: -webkit-gradient(linear, left top, left bottom, from(#ededed), to(#ebebeb));
	background: -moz-linear-gradient(top,  #ededed,  #ebebeb);
}
table th:first-child {
	text-align: left;
	padding-left:20px;
}
table tr:first-child th:first-child {
	-moz-border-radius-topleft:3px;
	-webkit-border-top-left-radius:3px;
	border-top-left-radius:3px;
}
table tr:first-child th:last-child {
	-moz-border-radius-topright:3px;
	-webkit-border-top-right-radius:3px;
	border-top-right-radius:3px;
}
table tr {
	text-align: center;
	padding-left:210px;
}
table td:first-child {
	text-align: left;
	padding-left:20px;
	border-left: 0;
}
table td {
	padding:6px;
	border-top: 1px solid #ffffff;
	border-bottom:1px solid #e0e0e0;
	border-left: 1px solid #e0e0e0;

	background: #fafafa;
	background: -webkit-gradient(linear, left top, left bottom, from(#fbfbfb), to(#fafafa));
	background: -moz-linear-gradient(top,  #fbfbfb,  #fafafa);
}
table tr.even td {
	background: #f6f6f6;
	background: -webkit-gradient(linear, left top, left bottom, from(#f8f8f8), to(#f6f6f6));
	background: -moz-linear-gradient(top,  #f8f8f8,  #f6f6f6);
}
table tr:last-child td {
	border-bottom:0;
}
table tr:last-child td:first-child {
	-moz-border-radius-bottomleft:3px;
	-webkit-border-bottom-left-radius:3px;
	border-bottom-left-radius:3px;
}
table tr:last-child td:last-child {
	-moz-border-radius-bottomright:3px;
	-webkit-border-bottom-right-radius:3px;
	border-bottom-right-radius:3px;
}
table tr:hover td {
	background: #f2f2f2;
	background: -webkit-gradient(linear, left top, left bottom, from(#f2f2f2), to(#f0f0f0));
	background: -moz-linear-gradient(top,  #f2f2f2,  #f0f0f0);
}
.btn{

}
</style>
{% endblock %}
